spring.application.name=backend

# Database Configuration
spring.jpa.hibernate.ddl-auto=update
spring.datasource.url=${DB_URL:jdbc:postgresql://localhost:5432/polarix_db}
spring.datasource.username=${DB_USER:vimal142}
spring.datasource.password=${DB_PASSWORD::lkjAsdf}
spring.datasource.driver-class-name=org.postgresql.Driver
spring.jpa.show-sql=true
spring.liquibase.enabled=false
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl

# Swagger UI Path
springdoc.swagger-ui.path=/swagger-ui

# ==============================
# Keycloak Configuration
# ==============================

# ✅ KEEP THIS (Resource Server JWT validation)
spring.security.oauth2.resourceserver.jwt.issuer-uri=${KEYCLOAK_ISSUER_URI:http://localhost:8081/realms/polarix}

# ✅ KEEP THIS (Used for Keycloak Admin client)
keycloak.auth-server-url=${KEYCLOAK_SERVER_URL:http://localhost:8081}

# ==============================
# ❌ OAuth2 Client – COMMENTED OUT
# These caused the auto-config crash
# ==============================

# spring.security.oauth2.client.provider.keycloak.issuer-uri=${KEYCLOAK_ISSUER_URI:http://localhost:8081/realms/polarix}

# spring.security.oauth2.client.registration.keycloak.client-id=polarix_spring_backend
# spring.security.oauth2.client.registration.keycloak.client-secret=wqWiHTanP0btjt9M7lYWzuWRdJM3RyE6
# spring.security.oauth2.client.registration.keycloak.authorization-grant-type=authorization_code
# spring.security.oauth2.client.registration.keycloak.scope=openid,profile,email
# spring.security.oauth2.client.registration.keycloak.redirect-uri={baseUrl}/login/oauth2/code/{registrationId}

# ==============================
# Keycloak Admin Client Configuration
# ==============================
keycloak.realm=polarix
keycloak.resource=admin_service
keycloak.credentials.secret=tKBtKBjZYekPEMEaicgt4TkmWvdHVyCk
