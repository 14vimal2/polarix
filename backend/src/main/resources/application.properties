spring.application.name=backend

# ======================================
# Database Configuration
# ======================================
spring.jpa.hibernate.ddl-auto=update
spring.datasource.url=${DB_URL:jdbc:postgresql://postgres:5432/polarix_db}
spring.datasource.username=${DB_USER:keycloak}
spring.datasource.password=${DB_PASSWORD:password}
spring.datasource.driver-class-name=org.postgresql.Driver
spring.jpa.show-sql=true
spring.liquibase.enabled=false
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl

# Swagger UI Path
springdoc.swagger-ui.path=/swagger-ui

# ======================================
# JWT Verification with Keycloak
# ======================================
# This MUST match the external Keycloak hostname
spring.security.oauth2.resourceserver.jwt.issuer-uri=${KEYCLOAK_ISSUER_URI:http://host.docker.internal:8081/realms/polarix}

# Used for Keycloak Admin Client
keycloak.auth-server-url=${KEYCLOAK_SERVER_URL:http://host.docker.internal:8081}

# ======================================
# OAuth2 Client (Disabled â€” correct)
# You are only doing bearer-token resource-server validation,
# not login via Spring Security.
# ======================================
# (KEEP THESE COMMENTED)
# spring.security.oauth2.client.provider.keycloak.issuer-uri=...
# spring.security.oauth2.client.registration.keycloak.client-id=...
# spring.security.oauth2.client.registration.keycloak.client-secret=...

# ======================================
# Keycloak Admin Client Configuration
# ======================================
keycloak.realm=polarix
keycloak.resource=admin_service
keycloak.credentials.secret=tKBtKBjZYekPEMEaicgt4TkmWvdHVyCk
